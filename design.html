    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Manager - Design</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Recipe Manager</h1>
            <p class="subtitle">Application Design Document</p>
             <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="specification.html">Specification</a></li>
                    <li><a href="design.html">Design</a></li>
                    <li><a href="coding.html">Development</a></li>
                    <li><a href="technical.html">Testing</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <h1 id="design-document">Design Document</h1>
            <ul>
                <li>2.1 User Interface Design</li>
                <li>2.2 Program Flow Diagram</li>
                <li>2.3 Class Design and OOP Principles</li>
                <li>2.4 Secondary Storage Design</li>
                <li>2.5 Explanation of Secondary Storage Design</li>
                <li>2.6 Explanation of how Primary Data Structures relate to Secondary Storage</li>
            </ul>

            <h2>2.1 User Interface Design</h2>
            <h3>Application Window Structure</h3>

            <h4>Main Window (<code>Main.java</code>)</h4>
            <p><strong>Primary Container:</strong></p>
            <ul>
                <li><code>JFrame</code><strong>(frame)</strong>: Main application window titled "Recipe Manager"</li>
                <li><strong>Dimensions</strong>: 1000x700 pixels, resizable</li> 
                <li><strong>Layout</strong>: CardLayout for dynamic screen switching</li>
                <li><strong>State Management</strong>: Handles transition between authentication and main application states</li>
            </ul>

            <h4>Sign-In Page (<code>SignInPage.java</code>)</h4>
            <p><strong>Layout Structure:</strong></p>
            <pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         RECIPE MANAGER LOGIN        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Username: [__________________]  â”‚â”‚
â”‚  â”‚ Password: [__________________]  â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚     [Login]    [Register]       â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚ Error: [Error message display]  â”‚â”‚
â”‚  â”‚ Loading: [â— â— â—]                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </code></pre>
            <iframe src="SignInView.html" width="100%" height="700px" title="SignInPageView"></iframe>
            <p><strong>GUI Components:</strong></p>
            <ol>
                <li><strong><code>JPanel</code> (mainPanel)</strong><ul>
                    <li><strong>Function:</strong> Primary container for sign-in interface</li>
                    <li><strong>Layout:</strong> GridBagLayout for centered component positioning</li>
                </ul></li>
                <li><strong><code>JTextField</code> (txtUsername)</strong><ul>
                    <li><strong>Data Type:</strong> String (username)</li>
                    <li><strong>Validation:</strong> Non-empty username validation</li>
                    <li><strong>Placeholder:</strong> "Enter your username"</li>
                </ul></li>
                <li><strong><code>JPasswordField</code> (txtPassword)</strong><ul>
                    <li><strong>Data Type:</strong> Secure string (password)</li>
                    <li><strong>Behavior:</strong> Character masking for security</li>
                    <li><strong>Placeholder:</strong> "Enter your password"</li>
                </ul></li>
                <li><strong><code>JButton</code> (btnLogin)</strong><ul>
                    <li><strong>Text:</strong> "Login"</li>
                    <li><strong>Function:</strong> Validate credentials and proceed to HomePage</li>
                    <li><strong>State:</strong> Enabled when both fields have content</li>
                </ul></li>
                <li><strong><code>JButton</code> (btnRegister)</strong><ul>
                    <li><strong>Text:</strong> "Register"</li>
                    <li><strong>Function:</strong> Opens RegistrationDialog for new user creation</li>
                    <li><strong>Action:</strong> Modal dialog with username, password, email fields</li>
                </ul></li>
                <li><strong><code>JButton</code> (btnTogglePassword)</strong><ul>
                    <li><strong>Text:</strong> Eye Icon</li>
                    <li><strong>Visibility:</strong> Toggles password field visibility between masked and plain text</li>
                    <li><strong>Text:</strong> Visual feedback for password visibility state</li>
                </ul></li>
                <li><strong><code>JLabel</code> (lblError)</strong><ul>
                    <li><strong>Function:</strong> Display authentication error messages</li>
                    <li><strong>Visibility:</strong> Hidden by default, shown on error</li>
                    <li><strong>Styling:</strong> Red text for error indication</li>
                </ul></li>
                <li><strong><code>JProgressBar</code> (loadingBar    )</strong><ul>
                    <li><strong>Function:</strong> Shows loading state during authentication</li>
                    <li><strong>Behavior:</strong> Indeterminate progress for async operations</li>
                </ul></li>
            </ol>

            <p><strong>Action Elements:</strong></p>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Input Device</th>
                        <th>Action Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>txtUsername</td>
                        <td>Keyboard</td>
                        <td>Text input with real-time validation</td>
                    </tr>
                    <tr>
                        <td>txtPassword</td>
                        <td>Keyboard</td>
                        <td>Secure text input with Enter key support</td>
                    </tr>
                    <tr>
                        <td>btnLogin</td>
                        <td>Mouse/Keyboard</td>
                        <td>Authenticate user and navigate to main app</td>
                    </tr>
                    <tr>
                        <td>btnRegister</td>
                        <td>Mouse/Keyboard</td>
                        <td>Open registration dialog for new users</td>
                    </tr>
                    <tr>
                        <td>btnTogglePassword</td>
                        <td>Mouse</td>
                        <td>Toggle password visibility</td>
                    </tr>
                </tbody>
            </table>

            <h4>Registration Dialog(<code>RegistrationDialog.java</code>)</h4>
            <p><strong>Modal Dialog Components:</strong></p>
            <ol>
                <li><strong><code>JTextField</code> (txtRegUsername)</strong><ul>
                    <li><strong>Function:</strong> Single-line text field for entering a unique username</li>
                    <li><strong>Validation:</strong> Username uniqueness check</li>
                </ul></li>
                <li><strong><code>JTextField</code> (txtRegEmail)</strong><ul>
                    <li><strong>Function:</strong> Single-line text field for entering a valid email address</li>
                    <li><strong>Validation:</strong> Email format validation</li>
                </ul></li>
                <li><strong><code>JPasswordField</code> (txtRegPassword)</strong><ul>
                    <li><strong>Function:</strong> Secure password input field</li>
                    <li><strong>Validation:</strong> Password strength requirements</li>
                </ul></li>
                <li><strong><code>JPasswordField</code> (txtConfirmPassword)</strong><ul>
                    <li><strong>Function:</strong> Secure field to re-enter password for confirmation</li>
                    <li><strong>Validation:</strong> Must match password field</li>
                </ul></li>
                <li><strong><code>JLabel</code> (lblRegError)</strong><ul>
                    <li><strong>Function:</strong> Text label for showing validation errors</li>
                    <li><strong>Examples:</strong> "Passwords do not match" or "Email already exists"</li>
                </ul></li>
                <li><strong><code>JProgressBar</code> (regLoadingBar)</strong><ul>
                    <li><strong>Functiont:</strong> Progress bar active during asynchronous registration</li>
                </ul></li>
            </ol>
            <p><strong>Action Elements:</strong></p>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Input Device</th>
                        <th>Action Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>btnSubmit</td>
                        <td>Mouse</td>
                        <td>Validates inputs, encrypts password, adds user via UserManager</td>
                    </tr>
                    <tr>
                        <td>btnSubmit</td>
                        <td>Mouse</td>
                        <td>Closes dialog without saving changes</td>
                    </tr>
                </tbody>
            </table>

            <h4>Home Page (<code>HomePage.java</code>)</h4>
            <p><strong>Layout Structure:</strong></p>
            <pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Welcome [Username] - Recipe Manager        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search: [________________] [Categories...] [All]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚          RECIPES TABLE                      â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚ â”‚ â”‚ Name   â”‚Category â”‚ Prep  â”‚ Cook    â”‚Totalâ”‚â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤â”‚ â”‚
â”‚ â”‚ â”‚Pasta   â”‚Italian  â”‚ 15min â”‚ 20min   â”‚35minâ”‚â”‚ â”‚
â”‚ â”‚ â”‚Stir Fryâ”‚Asian    â”‚ 10min â”‚ 15min   â”‚25minâ”‚â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Add Recipe] [Edit Recipe] [Delete Recipe]      â”‚
â”‚ [Settings] [Logout]                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </code></pre>
            <iframe src="HomePageView.html" width="100%" height="700px" title="HomePageView"></iframe>
            <p><strong>GUI Components:</strong></p>
            <ol>
                <li><strong><code>JPanel</code> (mainPanel)</strong><ul>
                    <li><strong>Layout:</strong> BorderLayout with header, center, and button panels</li>
                </ul></li>
                <li><strong><code>JLabel</code> (lblWelcome)</strong><ul>
                    <li><strong>Text:</strong> "Welcome [Username] - Recipe Manager"</li>
                    <li><strong>Function:</strong> Personalized greeting with logged-in user</li>
                </ul></li>
                <li><strong><code>JLabel</code> (lblRecipeCount)</strong><ul>
                    <li><strong>Function:</strong> Shows number of recipes (e.g., "You have 5 recipes")</li>
                    <li><strong>Updates:</strong> Real-time count based on filtered results</li>
                </ul></li>
                <li><strong><code>JTextField</code> (searchField)</strong><ul>
                    <li><strong>Function:</strong> Filter recipes by name in real-time</li>
                    <li><strong>Features:</strong> Case-insensitive search functionality</li>
                    <li><strong>Placeholder:</strong> "Search recipes by name..."</li>
                </ul></li>
                <li><strong><code>JPanel</code> (categoryPanel)</strong><ul>
                    <li><strong>Contains:</strong> Dynamically generated category filter buttons</li>
                    <li><strong>Categories:</strong> "All", "Dessert", "Main Course", etc.</li>
                </ul></li>
                <li><strong><code>JTable</code> (recipeTable) with <code>DefaultTableModel</code> (yableModel)</strong><ul>
                    <li><strong>Columns:</strong> Name (String), Category (String), Prep Time (int), Cook Time (int), Total Time (int)</li>
                    <li><strong>Data Source:</strong> Populated from database via RecipeManager</li>
                    <li><strong>Selection:</strong> Single row selection for edit/delete operations</li>
                    <li><strong>Sorting:</strong> Clickable column headers with<code>TableRowSorter</code> (tableSorter)</li>
                </ul></li>
                <li><strong><code>JScrollPane</code> (tableScrollPane)</strong><ul>
                    <li><strong>Function:</strong> Scrollable container for recipe table</li>
                    <li><strong>Behavior:</strong> Automatic scrollbars when needed</li>
                </ul></li>
            </ol>
            <p><strong>action Buttons:</strong></p>
            <ol>
                    <li><strong><code>JButton</code> (addRecipeButton)</strong><ul>
                    <li><strong>Text:</strong> "Add Recipe"</li>
                    <li><strong>Function:</strong> Opens RecipeEditorPage in create mode</li>
                </ul></li>
                <li><strong><code>JButton</code> (editRecipeButton)</strong><ul>
                    <li><strong>Text:</strong> "Edit Recipe"</li>
                    <li><strong>Function:</strong> Opens RecipeEditorPage with selected recipe data</li>
                    <li><strong>State:</strong> Enabled only when a recipe is selected</li>
                </ul></li>
                <li><strong><code>JButton</code> (deleteRecipeButton)</strong><ul>
                    <li><strong>Text:</strong> "Delete Recipe"</li>
                    <li><strong>Function:</strong> Removes selected recipe with confirmation dialog</li>
                    <li><strong>State:</strong> Enabled only when a recipe is selected</li>
                </ul></li>
                <li><strong><code>JButton</code> (settingsButton)</strong><ul>
                    <li><strong>Text:</strong> "Settings"</li>
                    <li><strong>Function:</strong> Navigate to SettingsPage</li>
                </ul></li>
                <li><strong><code>JButton</code> (logoutButton)</strong><ul>
                    <li><strong>Text:</strong> "Logout"</li>
                    <li><strong>Function:</strong> Return to SignInPage and clear session</li>
                </ul></li>
            </ol>
            <p><strong>Action Elements:</strong></p>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Input Device</th>
                        <th>Action Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>searchField</td>
                        <td>Keyboard</td>
                        <td>Real-time recipe filtering by name</td>
                    </tr>
                    <tr>
                        <td>categoryButtons</td>
                        <td>Mouse</td>
                        <td>Filter recipes by selected category</td>
                    </tr>
                    <tr>
                        <td>recipeTable</td>
                        <td>Mouse</td>
                        <td>Row selection for edit/delete operations</td>
                    </tr>
                    <tr>
                        <td>btnAddRecipe</td>
                        <td>Mouse/Keyboard</td>
                        <td>Navigate to recipe creation form</td>
                    </tr>
                    <tr>
                        <td>btnEditRecipe</td>
                        <td>Mouse/Keyboard</td>
                        <td>Open selected recipe in editor</td>
                    </tr>
                    <tr>
                        <td>btnDeleteRecipe</td>
                        <td>Mouse/Keyboard</td>
                        <td>Delete selected recipe with confirmation</td>
                    </tr>
                    <tr>
                        <td>settingsButton</td>
                        <td>Mouse/Keyboard</td>
                        <td>Navigate to settings page</td>
                    </tr>
                    <tr>
                        <td>logoutButton</td>
                        <td>Mouse/Keyboard</td>
                        <td>End session and return to login</td>
                    </tr>
                </tbody>
            </table>

            <h4>Recipe Editor Page (<code>RecipeEditorPage.java</code>)</h4>
            <p><strong>Layout Structure:</strong></p>
            <pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            CREATE/EDIT RECIPE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Recipe Name: [_________________________]        â”‚
â”‚ Category: [Dropdown â–¼]                          â”‚
â”‚ Prep Time: [___] mins  Cook Time: [___] mins    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Instructions:                               â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Enter detailed cooking instructions...  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                         â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚              INGREDIENTS                    â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚ â”‚ Name   â”‚Quantity â”‚ Unit  â”‚   Actions   â”‚  â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚ â”‚ â”‚ Flour  â”‚   2.0   â”‚ cups  â”‚[Edit][Del]  â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ Sugar  â”‚   1.0   â”‚ cup   â”‚[Edit][Del]  â”‚  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â”‚ [Add Ingredient]                            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚           COOKING TIMER                     â”‚ â”‚
â”‚ â”‚ Time: [00:00:00] Status: [Running]          â”‚ â”‚
â”‚ â”‚ [Start Timer] [Stop Timer]                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [Save] [Cancel]                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </code></pre>
            <iframe src="RecipeView.html" width="100%" height="700px" title="RecipeView"></iframe>
            <p><strong>GUI Components:</strong></p>
            <ol>
                <li><strong><code>JTextField</code> (txtRecipeName)</strong><ul>
                    <li><strong>Function:</strong> Recipe name input</li>
                    <li><strong>Validation:</strong> Non-empty name required</li>
                    <li><strong>Character limit:</strong> 255 characters</li>
                </ul></li>
                <li><strong><code>JComboBox&lt;String&gt;</code> (cmbCategory)</strong><ul>
                    <li><strong>Options:</strong> "Breakfast", "Lunch", "Dinner", "Dessert", "Snack"</li>
                    <li><strong>Default:</strong> Pre-selected category for editing</li>
                </ul></li>
                <li><strong><code>JSpinner</code> (spnPrepTime)</strong><ul>
                    <li><strong>Range:</strong> 1-999 minutes</li>
                    <li><strong>Default:</strong> 15 minutes</li>
                </ul></li>
                <li><strong><code>JSpinner</code> (spnCookTime)</strong><ul>
                    <li><strong>Range:</strong> 1-999 minutes</li>
                    <li><strong>Default:</strong> 30 minutes</li>
                </ul></li>
                <li><strong><code>JTextArea</code> (txtInstructions) within <code>JScrollPane</code> (instructionsScrollPane)</strong><ul>
                    <li><strong>Function:</strong> Multi-line cooking instructions</li>
                    <li><strong>Properties:</strong> Word wrap, scrollable</li>
                    <li><strong>Placeholder:</strong> "Enter detailed cooking instructions..."</li>
                </ul></li>
                <li><strong><code>JTable</code> (ingredientsTable) with <code>DefaultTableModel</code> (ingredientTableModel) within <code>JScrollPane</code> (ingredientScrollPane)</strong><ul>
                    <li><strong>Columns:</strong> Name, Quantity, Unit, Actions (Edit/Delete)</li>
                    <li><strong>Data Source:</strong> Ingredients associated with current recipe</li>
                    <li><strong>Editing:</strong> Inline editing or dialog-based modification</li>
                </ul></li>
                <li><strong>Timer Components</strong><ul>
                    <li><strong><code>JLabel</code>(lblTimer):</strong> Shows remaining time in "HH:MM:SS" format</li>
                    <li><strong><code>JLabel</code>(lblTimerStatus):</strong> Shows timer state ("Running", "Stopped")</li>
                </ul></li>
                <li><strong><code>JLabel</code> (lblErrorMessage)</strong><ul>
                    <li><strong>Function:</strong> Display validation errors (e.g., "Name is required")</li>
                </ul></li>
            </ol>
            <p><strong>Action Buttons:</strong></p>
                <li><strong><code>JButton</code> (btnSave):</strong> Validates inputs, saves recipe via RecipeManager and IngredientManager</li>
                <li><strong><code>JButton</code> (btnCancel):</strong> Prompts for confirmation and closes without saving</li>
                <li><strong><code>JButton</code> (btnAddIngredient):</strong> Opens Ingredient Dialog in create mode</li>
                <li><strong><code>JButton</code> (btnEditIngredient):</strong> Opens Ingredient Dialog in edit mode for selected row</li>
                <li><strong><code>JButton</code> (btnRemoveIngredient):</strong> Removes selected ingredient with confirmation</li>
                <li><strong><code>JButton</code> (btnStartTimer):</strong> Starts cooking timer via TimerManager</li>
                <li><strong><code>JButton</code> (btnStopTimer):</strong> Stops or pauses active timer</li>
            <h4>Ingredient Dialog (<code>IngredientDialog.java</code>)</h4>
            <p><strong>Modal Dialog Components:</strong></p>
            <ol>
                <li><strong><code>JTextField</code>(txtName)</strong><ul>
                    <li><strong><code>Function:</strong> Single-line text for ingredient name</li>
                    <li><strong><code>Validation:</strong> Non-empty name required</li>
                </ul></li>
                <li><strong><code>JSpinner</code>(spnQuantity)</strong><ul>
                    <li><strong><code>DataType:</strong> Double (decimal support)</li>
                    <li><strong><code>Range:</strong> Minimum 0, supports decimal values</li>
                </ul></li>
                <li><strong><code>JComboBox&lt;String&gt;</code>(cmbUnit)</strong><ul>
                    <li><strong><code>Options:</strong> "g", "ml", "cup", "tbsp", "tsp", "oz", "lb"</li>
                    <li><strong><code>Behaviour:</strong> Supports custom entry</li>
                </ul></li>
            </ol>
            <p><strong>Action Elements:</strong></p>
                <li><strong><code>JButton</code> (btnOK):</strong> Validates inputs, creates/updates Ingredient object</li>
                <li><strong><code>JButton</code> (btnCancel):</strong> Closes dialog without changes</li>

            <h4>Settings Page (<code>SettingsPage.java</code>)</h4>
            <p><strong>Layout Structure:</strong></p>
            <pre><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RECIPE MANAGER SETTINGS            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚              USER PROFILE                   â”‚ â”‚
â”‚ â”‚ Username: [john_doe] (read-only)            â”‚ â”‚
â”‚ â”‚ Email: [_________________________]          â”‚ â”‚
â”‚ â”‚ Current Password: [__________________] ğŸ‘   â”‚ â”‚
â”‚ â”‚ New Password: [______________________] ğŸ‘   â”‚ â”‚
â”‚ â”‚ Confirm Password: [__________________] ğŸ‘   â”‚ â”‚
â”‚ â”‚ [Save Profile] [Change Password]            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚            DATA MANAGEMENT                  â”‚ â”‚
â”‚ â”‚ Last Backup: [2023-12-01 14:30:00]          â”‚ â”‚
â”‚ â”‚         [Export Data]                       â”‚ â”‚
â”‚ â”‚         [Import Data]                       â”‚ â”‚
â”‚ â”‚         [Backup Data]                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚          ACCOUNT MANAGEMENT                 â”‚ â”‚
â”‚ â”‚                                             â”‚ â”‚
â”‚ â”‚         [Deactivate Account]                â”‚ â”‚
â”‚ â”‚         [Delete Account]                    â”‚ â”‚
â”‚ â”‚                                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ Error: [Error message display]                  â”‚
â”‚ Success: [Success message display]              â”‚
â”‚ [Save Changes] [Cancel]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </code></pre>
            <iframe src="SettingsView.html" width="100%" height="700px" title="SettingsView"></iframe>
            <p><strong>GUI Components:</strong></p>
            <ol>
                <li><strong><code>JTextField</code> (txtUsername)</strong><ul>
                    <li><strong>Function:</strong> Display current username (read-only)</li>
                    <li><strong>Behavior:</strong> Non-editable, shows current user</li>
                </ul></li>
                <li><strong><code>JTextField</code> (txtEmail)</strong><ul>
                    <li><strong>Function:</strong> Input field for email address update</li>
                    <li><strong>Validation:</strong> Email format validation</li>
                </ul></li>
                <li><strong>Password Fields</strong>
                    <li><strong><code>JPasswordField</code> (txtCurrentPassword):</strong> Current password for verification</li>
                    <li><strong><code>JPasswordField</code> (txtNewPassword):</strong> New password input with strength validation</li>
                    <li><strong><code>JPasswordField</code> (txtConfirmPassword):</strong> Password confirmation field</li>
                </li>
                <li><strong>Visibility Toggle Buttons</strong>
                    <li><strong><code>JButton</code> (btnToggleCurrentPassword):</strong> Toggle current password visibility</li>
                    <li><strong><code>JButton</code> (btnToggleNewPassword):</strong> Toggle new password visibility</li>
                    <li><strong><code>JButton</code> (btnToggleConfirmPassword):</strong> Toggle confirm password visibility</li>
                </li>
                <li><strong>Status Labels</strong>
                    <li><strong><code>JLabel</code> (lblLastBackup):</strong> Shows timestamp of last data backup</li>
                    <li><strong><code>JLabel</code> (lblErrorMessage):</strong> Display errors (e.g., "Invalid password")</li>
                    <li><strong><code>JLabel</code> (lblSuccessMessage):</strong> Display confirmations (e.g., "Profile updated")</li>
                </li>
            </ol>
            <p><strong>Action Buttons:</strong></p>
                <li><strong><code>JButton</code> (btnSaveProfile):</strong> Updates email via UserManager</li>
                <li><strong><code>JButton</code> (btnChangePassword):</strong> Validates and updates password</li>
                <li><strong><code>JButton</code> (btnExportData):</strong> Exports user recipes to JSON via FileManager</li>
                <li><strong><code>JButton</code> (btnImportData):</strong> Imports recipes from JSON with validation</li>
                <li><strong><code>JButton</code> (btnBackupData):</strong> Creates data backup and updates timestamp</li>
                <li><strong><code>JButton</code> (btnDeactivateAccount):</strong> Deactivates account after confirmation</li>
                <li><strong><code>JButton</code> (btnDeleteAccount):</strong> Deletes account after multiple confirmations</li>
                <li><strong><code>JButton</code> (btnSaveChanges):</strong> Saves all pending changes</li>
                <li><strong><code>JButton</code> (btnCancel):</strong> Closes page without saving</li>
            

            <p><strong>Action Elements:</strong></p>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Input Device</th>
                        <th>Action Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>profile fields</td>
                        <td>Keyboard</td>
                        <td>Text input with real-time validation</td>
                    </tr>
                    <tr>
                        <td>password toggles</td>
                        <td>Mouse</td>
                        <td>Toggle password field visibility</td>
                    </tr>
                    <tr>
                        <td>btnExportData</td>
                        <td>Mouse/Keyboard</td>
                        <td>File chooser dialog and JSON export</td>
                    </tr>
                    <tr>
                        <td>importButton</td>
                        <td>Mouse/Keyboard</td>
                        <td>Load recipes from JSON file</td>
                    </tr>
                    <tr>
                        <td>btnImportData</td>
                        <td>Mouse/Keyboard</td>
                        <td>File chooser dialog and JSON import</td>
                    </tr>
                    <tr>
                        <td>btnDeleteAccount</td>
                        <td>Mouse/Keyboard</td>
                        <td>Multiple confirmation dialogs required</td>
                    </tr>
                </tbody>
            </table>

            <h3>Common UI Components</h3>
            <h4>Dialog Components</h4>
            <p><strong><code>RegistrationDialog</code>:</strong> Modal dialog for new user registration with username, password, and email fields</p>
            <p><strong><code>IngredientDialog</code>:</strong> Dialog for adding/editing ingredients with name, quantity, and unit fields</p>
            <p><strong><code>JFileChooser</code>:</strong> Standard file selection dialogs for import/export operations</p>
            <p><strong><code>JOptionPane</code>:</strong> Standard confirmation dialogs for delete operations and error messages</p>

            <h4>Design Principles Applied</h4>
            <p><strong>Consistency:</strong> Uniform button styling, consistent layout patterns, standardized spacing and typography</p>
            <p><strong>Usability:</strong> Clear navigation flow, immediate feedback for user actions, keyboard shortcuts support</p>
            <p><strong>Functionality:</strong> Real-time validation, context-sensitive button states, organized information hierarchy</p>
            <p><strong>Accessibility:</strong> Keyboard navigation support, clear focus indicators, readable fonts and colors</p>
            <h2 id="program-flow-diagram">2.2 Program Flow Diagram</h2>
            <div class="mermaid-container">
                <pre class="mermaid">
flowchart TD
    A[Launch Application] --> B[Main initializes: Setup DB, UI, etc.]
    B --> C[SignInPage: Login or Register]
    C -->|Successful Login/Register| D[HomePage: View Recipes]
    D --> E[Add Recipe] --> F[RecipeEditorPage: Enter Details, Ingredients, Timer]
    F -->|Save| D
    F -->|Cancel| D
    D --> G[Edit Selected Recipe] --> F
    D --> H[Delete Selected Recipe] --> D
    D --> I[Settings] --> J[SettingsPage: Update Profile, Change Password, Export/Import Data, Backup, Deactivate/Delete Account]
    J -->|Save Changes| D
    J -->|Cancel| D
    J -->|Delete Account| C
    D --> K[Logout] --> C
    F --> L[Start Cooking Timer]
    L --> M[Timer Running: Pause/Resume/Stop]
    M --> F
                </pre>
            </div>
            <h2 id="class-design-and-oop-principles">2.3 Class Design and OOP Principles</h2>
            <h3>Class Design</h3>
            <div class="mermaid-container">
                <pre class="mermaid">
                classDiagram
    class User {
        -int userId
        -String username
        #String password
        -String email
        -LocalDateTime createdAt
        +User()
        +User(String username, String password, String email)
        +User(int userId, String username, String password, String email, LocalDateTime createdAt)
        +User(int userId, String username, String password, String email)
        +getUserId() int
        +getUsername() String
        +getPassword() String
        +getEmail() String
        +getCreatedAt() LocalDateTime
        +setUserId(int userId)
        +setUsername(String username)
        +setPassword(String password)
        +setEmail(String email)
        +setCreatedAt(LocalDateTime createdAt)
        +isPersisted() boolean
        +isValid() boolean
        +toSafeString() String
        +createSafeCopy() User
        +prepareForPersistence()
        +toString() String
        +equals(Object obj) boolean
        +hashCode() int
    }

    class Recipe {
        -int recipeId
        -int userId
        -String name
        -String category
        -int prepTime
        -int cookTime
        -String instructions
        +Recipe()
        +Recipe(int recipeId, int userId, String name, String category, int prepTime, int cookTime, String instructions)
        +Recipe(int userId, String name, String category, int prepTime, int cookTime, String instructions)
        +getRecipeId() int
        +setRecipeId(int recipeId)
        +getUserId() int
        +setUserId(int userId)
        +getName() String
        +setName(String name)
        +getCategory() String
        +setCategory(String category)
        +getPrepTime() int
        +setPrepTime(int prepTime)
        +getCookTime() int
        +setCookTime(int cookTime)
        +getTotalTime() int
        +getInstructions() String
        +setInstructions(String instructions)
        +toString() String
        +equals(Object obj) boolean
        +hashCode() int
    }

    class Ingredient {
        -int ingredientId
        -int recipeId
        -String name
        -double quantity
        -String unit
        +Ingredient()
        +Ingredient(int ingredientId, int recipeId, String name, double quantity, String unit)
        +Ingredient(int recipeId, String name, double quantity, String unit)
        +getIngredientId() int
        +setIngredientId(int ingredientId)
        +getRecipeId() int
        +setRecipeId(int recipeId)
        +getName() String
        +setName(String name)
        +getQuantity() double
        +setQuantity(double quantity)
        +getUnit() String
        +setUnit(String unit)
        +getFormattedQuantity() String
        +toString() String
        +equals(Object obj) boolean
        +hashCode() int
    }

    class DatabaseConnector {
        <<singleton>>
        -DatabaseConnector instance$ static volatile
        -Object lock$ static final
        -String DB_HOST$ static final
        -String DB_PORT$ static final
        -String DB_DATABASE_NAME$ static final
        -String DB_USER$ static final
        -String DB_PASSWORD$ static final
        -String DB_URL$ static final
        -Connection connection
        -AtomicBoolean isInitialized
        -Logger logger$ static final
        -String CREATE_USERS_TABLE$ static final
        -String CREATE_RECIPES_TABLE$ static final
        -String CREATE_INGREDIENTS_TABLE$ static final
        +DatabaseConnector()
        +getInstance() DatabaseConnector
        +initializeLogger()
        +connect() Connection
        +executeUpdate(String sql) int
        +executeUpdate(String sql, Object... parameters) int
        +executeQuery(String sql) ResultSet
        +executeQuery(String sql, Object... parameters) ResultSet
        +indexExists(String tableName, String indexName) boolean
        +createIndexIfNotExists(String sql, String tableName, String indexName)
        +initializeTables()
        +getConnection() Connection
        +setParameters(PreparedStatement pstmt, Object... parameters)
        +validateSqlStatement(String sql)
        +testConnection() boolean
        +getDatabaseMetadata() DatabaseMetaData
        +getServerInfo() String
        +closeConnection()
        +executeTransaction(String... operations) boolean
    }

    class UserManager {
        -DatabaseConnector dbConnector final
        -Logger logger$ static final
        -int SALT_LENGTH$ static final
        -int HASH_LENGTH$ static final
        -int ITERATIONS$ static final
        -String ALGORITHM$ static final
        -Pattern EMAIL_PATTERN$ static final
        -Pattern USERNAME_PATTERN$ static final
        -int MIN_PASSWORD_LENGTH$ static final
        -int MAX_PASSWORD_LENGTH$ static final
        -String INSERT_USER$ static final
        -String SELECT_USER_BY_ID$ static final
        -String SELECT_USER_BY_USERNAME$ static final
        -String UPDATE_USER$ static final
        -String DELETE_USER$ static final
        -String CHECK_USERNAME_EXISTS$ static final
        -String CHECK_EMAIL_EXISTS$ static final
        +UserManager()
        +addUser(User user) UserOperationResult
        +getUserById(int id) UserOperationResult
        +getUserByUsername(String username) UserOperationResult
        +updateUser(User user) UserOperationResult
        +deleteUser(int id) UserOperationResult
        +encryptPassword(String password) String
        +validateLogin(String username, String password) UserOperationResult
        +verifyPassword(String password, String storedPassword) boolean
        +createUserFromResultSet(ResultSet rs) User
        +validateUserInput(User user, boolean isNewUser) UserOperationResult
        +isValidUsername(String username) boolean
        +isValidEmail(String email) boolean
        +isValidPassword(String password) boolean
        +usernameExists(String username, int excludeUserId) boolean
        +emailExists(String email, int excludeUserId) boolean
    }

    class UserOperationResult {
        -boolean success final
        -String message final
        -User user final
        +UserOperationResult(boolean success, String message)
        +UserOperationResult(boolean success, String message, User user)
        +isSuccess() boolean
        +getMessage() String
        +getUser() User
        +toString() String
    }

    class RecipeManager {
        -Logger logger$ static final
        -DatabaseConnector dbConnector
        -String INSERT_RECIPE$ static final
        -String SELECT_RECIPE_BY_ID$ static final
        -String SELECT_ALL_RECIPES$ static final
        -String SELECT_RECIPES_BY_USER$ static final
        -String SELECT_RECIPES_BY_CATEGORY$ static final
        -String UPDATE_RECIPE$ static final
        -String DELETE_RECIPE$ static final
        -String DELETE_INGREDIENTS_BY_RECIPE$ static final
        -String SEARCH_RECIPES$ static final
        -String CHECK_RECIPE_EXISTS$ static final
        +RecipeManager()
        +RecipeManager(DatabaseConnector dbConnector)
        +addRecipe(Recipe recipe) boolean
        +getRecipeById(int id) Recipe
        +getAllRecipes() List~Recipe~
        +getRecipesByUserId(int userId) List~Recipe~
        +getRecipesByCategory(String category) List~Recipe~
        +updateRecipe(Recipe recipe) boolean
        +deleteRecipe(int id) boolean
        +searchRecipes(String searchTerm) List~Recipe~
        +recipeExists(int recipeId) boolean
        +mapResultSetToRecipe(ResultSet rs) Recipe
        +validateRecipe(Recipe recipe) boolean
        +validateId(int id, String fieldName)
        +validateString(String value, String fieldName)
    }

    class IngredientManager {
        -Logger logger$ static final
        -DatabaseConnector dbConnector
        -String INSERT_INGREDIENT$ static final
        -String SELECT_INGREDIENTS_BY_RECIPE$ static final
        -String SELECT_INGREDIENT_BY_ID$ static final
        -String UPDATE_INGREDIENT$ static final
        -String DELETE_INGREDIENT$ static final
        -String DELETE_INGREDIENTS_BY_RECIPE$ static final
        -String CHECK_RECIPE_EXISTS$ static final
        -String CHECK_INGREDIENT_EXISTS$ static final
        -String COUNT_INGREDIENTS_BY_RECIPE$ static final
        +IngredientManager()
        +IngredientManager(DatabaseConnector dbConnector)
        +addIngredient(Ingredient ingredient) boolean
        +getIngredientsByRecipe(int recipeId) List~Ingredient~
        +getIngredientById(int ingredientId) Ingredient
        +updateIngredient(Ingredient ingredient) boolean
        +deleteIngredient(int id) boolean
        +deleteIngredientsByRecipe(int recipeId) int
        +addIngredientsToRecipe(List~Ingredient~ ingredients) boolean
        +getIngredientCountByRecipe(int recipeId) int
        +recipeExists(int recipeId) boolean
        +ingredientExists(int ingredientId) boolean
        +mapResultSetToIngredient(ResultSet rs) Ingredient
        +validateIngredient(Ingredient ingredient) boolean
        +validateId(int id, String fieldName)
    }

    class FileManager {
        -Logger logger$ static final
        -Gson gson final
        -RecipeManager recipeManager final
        -IngredientManager ingredientManager final
        -String[] EXPECTED_RECIPE_FIELDS$ static final
        -String[] EXPECTED_INGREDIENT_FIELDS$ static final
        +FileManager(RecipeManager recipeManager, IngredientManager ingredientManager)
        +FileManager()
        +exportRecipesToJSON(List~Recipe~ recipes, String filePath) boolean
        +exportRecipesToJSON(List~Recipe~ recipes, String filePath, ProgressCallback progressCallback) boolean
        +importRecipesFromJSON(String filePath) List~Recipe~
        +importRecipesFromJSON(String filePath, ProgressCallback progressCallback) List~Recipe~
        +exportUserRecipesToJSON(int userId, String filePath) boolean
        +exportUserRecipesToJSON(int userId, String filePath, ProgressCallback progressCallback) boolean
        +validateJSONFile(String filePath) boolean
        +getExportStatistics(String filePath) ExportStatistics
        +importSingleRecipe(RecipeExportData recipeData) Recipe
        +parseAndValidateJSON(String jsonContent) ExportContainer
        +validateRecipeStructure(RecipeExportData recipeData)
        +readFileContent(InputStreamReader reader) String
        +validateRecipeList(List~Recipe~ recipes, String paramName)
        +validateFilePath(String filePath, String paramName)
    }

    class ProgressCallback {
        <<interface>>
        +onProgress(int current, int total, String message)
    }

    class RecipeExportData {
        -Recipe recipe
        -List~Ingredient~ ingredients
        -String exportTimestamp
        +RecipeExportData()
        +RecipeExportData(Recipe recipe, List~Ingredient~ ingredients)
        +getRecipe() Recipe
        +setRecipe(Recipe recipe)
        +getIngredients() List~Ingredient~
        +setIngredients(List~Ingredient~ ingredients)
        +getExportTimestamp() String
        +setExportTimestamp(String exportTimestamp)
    }

    class ExportContainer {
        -String exportVersion
        -String exportTimestamp
        -int totalRecipes
        -List~RecipeExportData~ recipes
        +ExportContainer()
        +getExportVersion() String
        +setExportVersion(String exportVersion)
        +getExportTimestamp() String
        +setExportTimestamp(String exportTimestamp)
        +getTotalRecipes() int
        +setTotalRecipes(int totalRecipes)
        +getRecipes() List~RecipeExportData~
        +setRecipes(List~RecipeExportData~ recipes)
    }

    class ExportStatistics {
        -int totalRecipes final
        -String exportTimestamp final
        -String exportVersion final
        -String filePath final
        +ExportStatistics(int totalRecipes, String exportTimestamp, String exportVersion, String filePath)
        +getTotalRecipes() int
        +getExportTimestamp() String
        +getExportVersion() String
        +getFilePath() String
        +toString() String
    }

    class TimerManager {
        -Logger logger$ static final
        -AtomicInteger timerIdGenerator$ static final
        -Map~Integer, CookingTimer~ activeTimers final
        -Integer defaultTimerId
        +TimerManager()
        +startTimer(int seconds) boolean
        +startTimer(int seconds, String name, TimerCallback callback) int
        +stopTimer() boolean
        +stopTimer(int timerId) boolean
        +pauseTimer() boolean
        +pauseTimer(int timerId) boolean
        +resumeTimer() boolean
        +resumeTimer(int timerId) boolean
        +getRemainingTime() int
        +getRemainingTime(int timerId) int
        +isRunning() boolean
        +isRunning(int timerId) boolean
        +getTimerState(int timerId) TimerState
        +getAllTimers() List~TimerInfo~
        +getActiveTimerCount() int
        +stopAllTimers() int
        +formatTime(int seconds) String
        +findNextDefaultTimer() Integer
        +validateSeconds(int seconds)
    }

    class TimerState {
        <<enumeration>>
        RUNNING
        PAUSED
        STOPPED
        COMPLETED
        ERROR
    }

    class TimerCallback {
        <<interface>>
        +onTick(int timerId, int remainingSeconds, int totalSeconds)
        +onTimerCompleted(int timerId, String name)
        +onStateChanged(int timerId, TimerState oldState, TimerState newState)
        +onTimerError(int timerId, String error)
    }

    class CookingTimer {
        -int timerId final
        -String name final
        -int totalSeconds final
        -int remainingSeconds
        -TimerState state
        -Timer javaTimer
        -TimerTask currentTask
        -TimerCallback callback final
        -Object stateLock final
        +CookingTimer(int timerId, String name, int totalSeconds, TimerCallback callback)
        +start()
        +pause()
        +stop()
        +tick()
        +completeTimer()
        +handleError(String errorMessage)
        +getTimerId() int
        +getName() String
        +getTotalSeconds() int
        +getRemainingSeconds() int
        +getState() TimerState
        +isRunning() boolean
        +isPaused() boolean
        +isCompleted() boolean
        +isStopped() boolean
    }

    class TimerInfo {
        -int id final
        -String name final
        -int totalSeconds final
        -int remainingSeconds final
        -TimerState state final
        +TimerInfo(int id, String name, int totalSeconds, int remainingSeconds, TimerState state)
        +getId() int
        +getName() String
        +getTotalSeconds() int
        +getRemainingSeconds() int
        +getState() TimerState
        +toString() String
    }

    User "1" -- "0..*" Recipe : owns >
    Recipe "1" -- "0..*" Ingredient : contains >
    UserManager "1" --> "1" DatabaseConnector : uses
    UserManager "1" *-- "1" UserOperationResult : returns
    RecipeManager "1" --> "1" DatabaseConnector : uses
    IngredientManager "1" --> "1" DatabaseConnector : uses
    FileManager "1" --> "1" RecipeManager : uses
    FileManager "1" --> "1" IngredientManager : uses
    FileManager "1" *-- "1" ProgressCallback : uses
    FileManager "1" *-- "1" RecipeExportData : uses
    FileManager "1" *-- "1" ExportContainer : uses
    FileManager "1" *-- "1" ExportStatistics : returns
    TimerManager "1" *-- "1" TimerState : uses
    TimerManager "1" *-- "1" TimerCallback : uses
    TimerManager "1" o-- "0..*" CookingTimer : manages
    TimerManager "1" *-- "1" TimerInfo : returns
    CookingTimer "1" --> "1" TimerState : has
    CookingTimer "1" --> "1" TimerCallback : notifies
                </pre>
            </div>
            <h3>OOP Principles</h3>
        <h4>1. Encapsulation</h4>
        <ul>
            <li><strong>Field Protection</strong>: All data fields are marked as <code>private</code> (indicated by - in UML), ensuring data integrity and controlled access</li>
            <li><strong>Getter/Setter Methods</strong>: Public accessor methods provide controlled access to private fields</li>
            <li><strong>Information Hiding</strong>: Internal implementation details are hidden from external classes</li>
        </ul>
        <h4>2. Abstraction</h4>
        <ul>
            <li><strong>DatabaseManager</strong>: Provides a high-level API that abstracts complex SQL operations from the UI layer</li>
            <li><strong>ChatManager</strong>: Abstracts chat-related database operations into simple method calls</li>
            <li><strong>Data Model Classes</strong>: Abstract database entities into Java objects with clear interfaces</li>
        </ul>
        <h4>3. Inheritance</h4>
        <ul>
            <li><strong>ResultSetTableModel</strong>: Extends <code>AbstractTableModel</code> to provide specialized table functionality for database results</li>
            <li><strong>Enum Classes</strong>: All enumerations inherit from Java's <code>Enum</code> class providing type safety</li>
        </ul>
        <h4>4. Polymorphism</h4>
        <ul>
            <li><strong>Interface Implementation</strong>: <code>ResultSetTableModel</code> implements <code>TableModel</code> interface methods that can be called polymorphically</li>
            <li><strong>Method Overriding</strong>: The <code>ResultSetTableModel</code> overrides abstract methods from <code>AbstractTableModel</code></li>
        </ul>
        <h4>5. Singleton Pattern</h4>
        <ul>
            <li><strong>DatabaseConnection</strong>: Ensures only one database connection exists throughout the application</li>
            <li><strong>UserSession</strong>: Maintains a single session instance for the current user</li>
        </ul>
        <h4>6. Composition and Aggregation</h4>
        <ul>
            <li><strong>Strong Composition</strong>: <code>ChatMessage</code> cannot exist without <code>ChatSession</code></li>
            <li><strong>Aggregation</strong>: <code>HelpRequest</code> and <code>User</code> have a "created by" relationship where both can exist independently</li>
        </ul>
            <h4>Class Design Analysis</h4>
            <p><strong>Logical Separation</strong></p>
            <ul>
            <li><strong>Data Access Layer</strong>: <code>DatabaseConnection</code>, <code>DatabaseManager</code>, <code>ChatManager</code></li>
            <li><strong>Business Logic Layer</strong>: <code>UserSession</code>, data model classes</li>
            <li><strong>Data Model Layer</strong>: POJOs representing database entities</li>
            <li><strong>Utility Layer</strong>: <code>ResultSetTableModel</code> for specialized table operations</li>
            </ul>
            <p><strong>Access Control</strong></p>
            <ul>
            <li><strong>Private Fields</strong>: All data members are private to enforce encapsulation</li>
            <li><strong>Public Methods</strong>: Interface methods are public for external access</li>
            <li><strong>Protected Methods</strong>: Constructor methods in singleton classes are private to prevent external instantiation</li>
            </ul>
            <p><strong>Cohesion and Coupling</strong></p>
            <ul>
            <li><strong>High Cohesion</strong>: Each class has a single, well-defined responsibility</li>
            <li><strong>Loose Coupling</strong>: Classes interact through well-defined interfaces rather than direct field access</li>
            <li><strong>Dependency Management</strong>: Database-dependent classes use <code>DatabaseConnection</code> singleton to manage connections</li>
            </ul>
            <h2 id="secondary-storage-design">2.4 Secondary Storage Design</h2>

            <h3>Storage Type: MySQL Database</h3>
            <ul>
                <li><strong>Location</strong>: Local MySQL server (localhost:3306)</li>
                <li><strong>Database Name</strong>: recipe_manager_db</li>
                <li><strong>Connection</strong>: JDBC connection via DatabaseConnector class</li>
                <li><strong>Security</strong>: Prepared statements prevent SQL injection</li>
                <li><strong>Auto-creation</strong>: Database and tables created automatically on first run</li>
            </ul>

            <h3>Database Schema Design</h3>

            <h4>Users Table</h4>
            <p><strong>Purpose</strong>: Store user account information and authentication data for the Recipe Manager application.</p>
            <table>
                <thead>
                    <tr>
                        <th>Field Name</th>
                        <th>Data Type</th>
                        <th>Constraints</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>userId</td>
                        <td>INT</td>
                        <td>PRIMARY KEY, AUTO_INCREMENT</td>
                        <td>Unique identifier for each user</td>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>VARCHAR(50)</td>
                        <td>NOT NULL, UNIQUE</td>
                        <td>Login credential and user identification</td>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td>VARCHAR(255)</td>
                        <td>NOT NULL</td>
                        <td>Hashed password using PBKDF2 algorithm</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>VARCHAR(100)</td>
                        <td>NOT NULL, UNIQUE</td>
                        <td>Email address for account recovery</td>
                    </tr>
                    <tr>
                        <td>createdAt</td>
                        <td>TIMESTAMP</td>
                        <td>DEFAULT CURRENT_TIMESTAMP</td>
                        <td>Account creation date and time</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Sample Data</strong>:</p>
            <pre><code>userId: 1
username: "john_chef"
password: "pbkdf2_sha256$260000$randomsalt$hashedpasswordstring"
email: "john@example.com"
createdAt: "2024-01-15 10:30:45"

userId: 2
username: "mary_baker"
password: "pbkdf2_sha256$260000$anothersalt$differenthashedstring"
email: "mary@bakingworld.com"
createdAt: "2024-01-20 14:22:10"</code></pre>

            <h4>Recipes Table</h4>
            <p><strong>Purpose</strong>: Store recipe information including cooking details and instructions.</p>
            <table>
                <thead>
                    <tr>
                        <th>Field Name</th>
                        <th>Data Type</th>
                        <th>Constraints</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>recipeId</td>
                        <td>INT</td>
                        <td>PRIMARY KEY, AUTO_INCREMENT</td>
                        <td>Unique identifier for each recipe</td>
                    </tr>
                    <tr>
                        <td>userId</td>
                        <td>INT</td>
                        <td>FOREIGN KEY â†’ users(userId), NOT NULL</td>
                        <td>Links recipe to its creator</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>VARCHAR(255)</td>
                        <td>NOT NULL</td>
                        <td>Recipe title for display and search</td>
                    </tr>
                    <tr>
                        <td>category</td>
                        <td>VARCHAR(50)</td>
                        <td>NOT NULL</td>
                        <td>Recipe category for filtering</td>
                    </tr>
                    <tr>
                        <td>prepTime</td>
                        <td>INT</td>
                        <td>NOT NULL</td>
                        <td>Preparation time in minutes</td>
                    </tr>
                    <tr>
                        <td>cookTime</td>
                        <td>INT</td>
                        <td>NOT NULL</td>
                        <td>Cooking time in minutes</td>
                    </tr>
                    <tr>
                        <td>instructions</td>
                        <td>TEXT</td>
                        <td>NOT NULL</td>
                        <td>Detailed cooking instructions</td>
                    </tr>
                    <tr>
                        <td>createdAt</td>
                        <td>TIMESTAMP</td>
                        <td>DEFAULT CURRENT_TIMESTAMP</td>
                        <td>Recipe creation date</td>
                    </tr>
                    <tr>
                        <td>updatedAt</td>
                        <td>TIMESTAMP</td>
                        <td>DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</td>
                        <td>Last modification date</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Sample Data</strong>:</p>
            <pre><code>recipeId: 1
userId: 1
name: "Classic Spaghetti Carbonara"
category: "Dinner"
prepTime: 15
cookTime: 20
instructions: "1. Boil water and cook spaghetti until al dente. 2. In a bowl, whisk eggs with parmesan cheese. 3. Cook pancetta until crispy. 4. Mix hot pasta with egg mixture and pancetta. 5. Season with black pepper and serve immediately."
createdAt: "2024-01-16 09:15:30"
updatedAt: "2024-01-16 09:15:30"

recipeId: 2
userId: 2
name: "Chocolate Chip Cookies"
category: "Dessert"
prepTime: 20
cookTime: 12
instructions: "1. Preheat oven to 375Â°F. 2. Cream butter and sugars. 3. Add eggs and vanilla. 4. Mix in flour, baking soda, and salt. 5. Fold in chocolate chips. 6. Drop dough on baking sheet. 7. Bake for 12 minutes until golden."
createdAt: "2024-01-18 16:45:22"
updatedAt: "2024-01-19 10:30:15"</code></pre>

            <h4>Ingredients Table</h4>
            <p><strong>Purpose</strong>: Store ingredients associated with each recipe including quantities and units.</p>
            <table>
                <thead>
                    <tr>
                        <th>Field Name</th>
                        <th>Data Type</th>
                        <th>Constraints</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ingredientId</td>
                        <td>INT</td>
                        <td>PRIMARY KEY, AUTO_INCREMENT</td>
                        <td>Unique identifier for each ingredient</td>
                    </tr>
                    <tr>
                        <td>recipeId</td>
                        <td>INT</td>
                        <td>FOREIGN KEY â†’ recipes(recipeId), NOT NULL</td>
                        <td>Links ingredient to its recipe</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>VARCHAR(100)</td>
                        <td>NOT NULL</td>
                        <td>Ingredient name for display</td>
                    </tr>
                    <tr>
                        <td>quantity</td>
                        <td>DECIMAL(10,2)</td>
                        <td>NOT NULL</td>
                        <td>Amount of ingredient needed</td>
                    </tr>
                    <tr>
                        <td>unit</td>
                        <td>VARCHAR(20)</td>
                        <td>NOT NULL</td>
                        <td>Measurement unit (cups, grams, etc.)</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Sample Data</strong>:</p>
            <pre><code>ingredientId: 1
recipeId: 1
name: "Spaghetti"
quantity: 1.00
unit: "pound"

ingredientId: 2
recipeId: 1
name: "Eggs"
quantity: 3.00
unit: "large"

ingredientId: 3
recipeId: 1
name: "Parmesan cheese"
quantity: 1.00
unit: "cup"

ingredientId: 4
recipeId: 2
name: "All-purpose flour"
quantity: 2.25
unit: "cups"

ingredientId: 5
recipeId: 2
name: "Chocolate chips"
quantity: 2.00
unit: "cups"</code></pre>

            <h3>Data Relationships and Integrity</h3>
            <h4>Referential Integrity</h4>
            <p>The database implements comprehensive foreign key constraints:</p>
            <ul>
                <li><strong>Users â†’ Recipes</strong>: One-to-Many (1:N) - Each user can create multiple recipes</li>
                <li><strong>Recipes â†’ Ingredients</strong>: One-to-Many (1:N) - Each recipe can have multiple ingredients</li>
            </ul>

            <h4>Cascading Operations</h4>
            <ul>
                <li><strong>User Deletion</strong>: CASCADE - Automatically removes all user's recipes and their ingredients</li>
                <li><strong>Recipe Deletion</strong>: CASCADE - Automatically removes all associated ingredients</li>
            </ul>

            <h4>Data Validation</h4>
            <ul>
                <li><strong>Username/Email Uniqueness</strong>: Enforced at database level</li>
                <li><strong>Required Fields</strong>: NOT NULL constraints on essential data</li>
                <li><strong>Positive Values</strong>: Application-level validation for times and quantities</li>
            </ul>

            <h3>Indexing Strategy</h3>
            <pre><code class="lang-sql">-- Primary indexes (automatically created)
PRIMARY KEY indexes on all ID fields

-- Performance indexes
CREATE INDEX idx_recipes_user ON recipes(userId);
CREATE INDEX idx_recipes_category ON recipes(category);
CREATE INDEX idx_recipes_name ON recipes(name);
CREATE INDEX idx_ingredients_recipe ON ingredients(recipeId);
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_users_email ON users(email);</code></pre>

            <h2 id="explanation-of-secondary-storage-design">2.5 Explanation of Secondary Storage Design</h2>

            <h3>Justification of Database Choice</h3>
            <p>I chose <strong>MySQL relational database</strong> as the secondary storage solution for the Recipe Manager application based on several critical requirements and advantages over alternative storage approaches.</p>

            <h3>Why MySQL Database:</h3>

            <p><strong>Data Relationships and Integrity:</strong> The Recipe Manager application has inherent relational data - users create recipes, recipes contain multiple ingredients, and these relationships must be maintained consistently. MySQL's relational model naturally represents these connections through foreign keys. When a user is deleted, all their recipes and ingredients are automatically removed through CASCADE constraints, preventing orphaned data that could corrupt the application state.</p>

            <p><strong>Query Flexibility and Search Capabilities:</strong> The application requires sophisticated data retrieval including recipe filtering by category, searching by name, and joining recipe data with ingredients for display. SQL's powerful query language enables complex operations like:</p>
            <ul>
                <li>Finding all recipes in a specific category with their ingredient counts</li>
                <li>Searching recipes by name with case-insensitive matching</li>
                <li>Retrieving complete recipe details including all ingredients in a single query</li>
                <li>Generating user statistics for dashboard display</li>
            </ul>

            <p><strong>Data Security and Authentication:</strong> User authentication requires secure password storage with hashing and salting. MySQL provides robust security features including user privilege management, secure password storage capabilities, and protection against SQL injection through prepared statements. The database handles sensitive user credentials with industry-standard security measures.</p>

            <p><strong>Backup and Data Export:</strong> Recipe data represents significant user investment in time and effort. MySQL offers comprehensive backup solutions including automated backups, point-in-time recovery, and structured data export (JSON format for recipe sharing). This ensures data durability and supports the application's import/export features.</p>

            <p><strong>Performance and Scalability:</strong> As users create more recipes and ingredients, the database must maintain responsive performance. MySQL's indexing capabilities, query optimization, and mature caching mechanisms ensure the application remains fast. Connection pooling and prepared statement caching provide efficiency for repetitive operations.</p>

            <h3>Disadvantages of Alternative Approaches:</h3>

            <p><strong>Text Files:</strong> Would require complex custom parsing logic for structured recipe data, lack concurrent access control (multiple users could corrupt files), provide no relationship enforcement (ingredients could be orphaned from recipes), and make search operations extremely inefficient requiring full file scans.</p>

            <p><strong>JSON Files:</strong> While more structured than plain text, JSON storage lacks query capabilities, relationship validation, and concurrent access control. Finding recipes by category would require loading entire files into memory and parsing all data, leading to poor performance as recipe collections grow.</p>

            <p><strong>Binary Files:</strong> Would require custom serialization/deserialization logic, be platform-dependent, lack human readability for debugging, and provide no built-in backup or recovery mechanisms.</p>

            <p><strong>NoSQL Databases:</strong> Although flexible, the Recipe Manager's data has well-defined, stable relationships that benefit from SQL's relational model. The overhead of learning and configuring NoSQL solutions would not provide proportional benefits for this application's straightforward relational requirements.</p>

            <p><strong>Performance and Maintenance Implications:</strong> MySQL's mature ecosystem provides excellent development and debugging tools, comprehensive documentation, and widespread community support. Query performance can be monitored and optimized through indexing strategies. The structured nature of relational data makes troubleshooting more straightforward than unstructured alternatives.</p>

            <p>The MySQL database solution provides optimal functionality, security, and maintainability for the Recipe Manager's data management requirements while supporting future enhancements like recipe sharing, ratings, or collaborative features.</p>
            <h2>2.6 Explanation of how Primary Data Structures relate to Secondary Storage</h2>

<h3>User Data Structure Mapping</h3>
<h4>Primary Data Structure: User Account Management</h4>
<ul>
<li><strong>Class</strong>: <code>User.java</code> (POJO with validation)</li>
<li><strong>Related Classes</strong>: <code>UserManager.java</code> for business logic, <code>SignInPage.java</code> and <code>RegistrationDialog.java</code> for UI</li>
</ul>

<h4>Secondary Storage Mapping: <code>users</code> Table</h4>
<p><strong>Table Structure:</strong></p>
<pre><code class="lang-sql">CREATE TABLE users (
    userId INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
</code></pre>

<p><strong>Data Writing Process:</strong></p>
<ol>
<li><p><strong>User Registration</strong>: When a new user registers through <code>RegistrationDialog</code>, the following occurs:</p>
<ul>
<li>User input (username, email, password) is collected from GUI components</li>
<li><code>UserManager.addUser(String username, String password, String email)</code> is called</li>
<li>Password is hashed using PBKDF2 algorithm for security</li>
<li><p>Data is inserted using PreparedStatement:</p>
<pre><code class="lang-sql">INSERT INTO users (username, password, email) 
VALUES (?, ?, ?)
</code></pre>
</li>
</ul>
</li>
</ol>

<p><strong>Data Reading Process:</strong></p>
<ol>
<li><p><strong>Authentication</strong>: During login process:</p>
<ul>
<li><code>UserManager.validateLogin(String username, String password)</code> is called</li>
<li><p>User's stored password hash is retrieved using:</p>
<pre><code class="lang-sql">SELECT userId, password FROM users WHERE username = ?</code></pre>
</li>
<li>Input password is hashed and compared with stored hash</li>
<li>Upon successful validation, user session is established</li>
</ul>
</li>
</ol>

<p><strong>Data Representation:</strong></p>
<ul>
<li>In Memory: <code>User</code> object contains <code>userId</code> (int), <code>username</code> (String), <code>email</code> (String), <code>createdAt</code> (Timestamp)</li>
<li>In Storage: Relational record with normalized fields and proper data types</li>
<li>Security: Passwords stored as PBKDF2 hashed values, never in plain text</li>
</ul>

<h3>Recipe Data Structure Mapping</h3>
<h4>Primary Data Structure: Recipe Management</h4>
<ul>
<li><strong>Classes</strong>: <code>Recipe.java</code> (POJO), <code>RecipeManager.java</code> (business logic)</li>
<li><strong>GUI Components</strong>: <code>HomePage.java</code> for display, <code>RecipeEditorPage.java</code> for creation/editing</li>
</ul>

<h4>Secondary Storage Mapping: <code>recipes</code> Table</h4>
<p><strong>Table Structure:</strong></p>
<pre><code class="lang-sql">CREATE TABLE recipes (
    recipeId INT PRIMARY KEY AUTO_INCREMENT,
    userId INT NOT NULL,
    name VARCHAR(255) NOT NULL,
    category VARCHAR(100) DEFAULT NULL,
    prepTime INT DEFAULT NULL,
    cookTime INT DEFAULT NULL,
    instructions TEXT,
    createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (userId) REFERENCES users(userId) ON DELETE CASCADE
);
</code></pre>

<p><strong>Data Writing Process:</strong></p>
<ol>
<li><p><strong>Creating Recipes</strong>:</p>
<ul>
<li>User fills form in <code>RecipeEditorPage</code> (name, category, prep time, cook time, instructions)</li>
<li><code>RecipeManager.addRecipe(Recipe recipe)</code> is called with populated Recipe object</li>
<li>Data validation occurs at model level through Recipe setters</li>
<li><p>PreparedStatement executes:</p>
<pre><code class="lang-sql">INSERT INTO recipes (userId, name, category, prepTime, cookTime, instructions) 
VALUES (?, ?, ?, ?, ?, ?)
</code></pre>
</li>
<li>Returns generated <code>recipeId</code> for immediate use</li>
</ul>
</li>
</ol>

<p><strong>Data Reading Process:</strong></p>
<ol>
<li><p><strong>Retrieving Recipes</strong>:</p>
<ul>
<li><code>RecipeManager.getRecipesByUserId(int userId)</code> retrieves user-specific recipes</li>
<li><p>For homepage display, recipes are fetched with filtering options:</p>
<pre><code class="lang-sql">SELECT * FROM recipes WHERE userId = ? 
AND name LIKE ? AND category = ? 
ORDER BY updatedAt DESC
</code></pre>
</li>
<li>ResultSet data is mapped to <code>Recipe</code> objects</li>
<li>Data displayed in JTable with search and category filtering capabilities</li>
</ul>
</li>
</ol>

<p><strong>Data Representation:</strong></p>
<ul>
<li>In Memory: <code>Recipe</code> objects with fields matching database columns</li>
<li>In Storage: Normalized relational data with foreign key relationships to users</li>
<li>Display: Table format with sorting, searching, and filtering capabilities</li>
</ul>

<h3>Ingredient Data Structure Mapping</h3>
<h4>Primary Data Structure: Ingredient Management</h4>
<ul>
<li><strong>Classes</strong>: <code>Ingredient.java</code> (POJO), <code>IngredientManager.java</code> (business logic)</li>
<li><strong>GUI Components</strong>: <code>IngredientDialog.java</code> for creation/editing within <code>RecipeEditorPage</code></li>
</ul>

<h4>Secondary Storage Mapping: <code>ingredients</code> Table</h4>
<p><strong>Table Structure:</strong></p>
<pre><code class="lang-sql">CREATE TABLE ingredients (
    ingredientId INT PRIMARY KEY AUTO_INCREMENT,
    recipeId INT NOT NULL,
    name VARCHAR(255) NOT NULL,
    quantity DECIMAL(10,2),
    unit VARCHAR(50),
    FOREIGN KEY (recipeId) REFERENCES recipes(recipeId) ON DELETE CASCADE
);
</code></pre>

<p><strong>Data Writing Process:</strong></p>
<ol>
<li><p><strong>Creating Ingredients</strong>:</p>
<ul>
<li>User adds ingredients through <code>IngredientDialog</code> within recipe editing</li>
<li><code>IngredientManager.addIngredient(Ingredient ingredient)</code> processes the request</li>
<li>Validation ensures ingredient is linked to valid recipe</li>
<li><p>PreparedStatement insertion:</p>
<pre><code class="lang-sql">INSERT INTO ingredients (recipeId, name, quantity, unit) 
VALUES (?, ?, ?, ?)
</code></pre>
</li>
</ul>
</li>
</ol>

<p><strong>Data Reading Process:</strong></p>
<ol>
<li><p><strong>Retrieving Ingredients</strong>:</p>
<ul>
<li><code>IngredientManager.getIngredientsByRecipeId(int recipeId)</code> fetches recipe-specific ingredients</li>
<li><p>Query retrieves all ingredients for a recipe:</p>
<pre><code class="lang-sql">SELECT * FROM ingredients WHERE recipeId = ? 
ORDER BY ingredientId
</code></pre>
</li>
<li>Results mapped to <code>Ingredient</code> objects for display in ingredient table</li>
</ul>
</li>
</ol>

<p><strong>Data Representation:</strong></p>
<ul>
<li>In Memory: <code>Ingredient</code> collections associated with specific recipes</li>
<li>In Storage: Relational data with foreign key constraints to recipes</li>
<li>Display: Table format within recipe editor for easy management</li>
</ul>

<h3>Timer Data Structure Mapping</h3>
<h4>Primary Data Structure: Timer Management</h4>
<ul>
<li><strong>Classes</strong>: <code>TimerManager.java</code> (in-memory service)</li>
<li><strong>Integration</strong>: Embedded in <code>RecipeEditorPage</code> for cooking assistance</li>
</ul>

<h4>In-Memory Storage: No Persistent Storage</h4>
<p><strong>Data Structure:</strong></p>
<ul>
<li>Thread-safe in-memory management of concurrent timers</li>
<li>Uses callback system for UI updates</li>
<li>Stateful timer objects maintained during application session</li>
</ul>

<p><strong>Data Operations:</strong></p>
<ol>
<li><strong>Timer Creation and Management</strong>:<ul>
<li>Timers created on-demand through UI interaction</li>
<li>State maintained in memory with thread-safe operations</li>
<li>No database persistence - timers are session-only</li>
</ul>
</li>
</ol>

<h3>File Import/Export Data Structure Mapping</h3>
<h4>Primary Data Structure: File Management</h4>
<ul>
<li><strong>Classes</strong>: <code>FileManager.java</code> (static utility methods)</li>
<li><strong>Integration</strong>: Accessible through <code>SettingsPage</code> for data backup/restore</li>
</ul>

<h4>File Storage: JSON Format</h4>
<p><strong>Data Export Process:</strong></p>
<ol>
<li><p><strong>Recipe Export</strong>:</p>
<ul>
<li>User clicks "Export" in <code>SettingsPage</code></li>
<li><code>FileManager.exportRecipes(int userId)</code> retrieves all user recipes and ingredients</li>
<li>Data serialized to structured JSON format</li>
<li>File written to user-selected location</li>
</ul>
</li>
</ol>

<p><strong>Data Import Process:</strong></p>
<ol>
<li><p><strong>Recipe Import</strong>:</p>
<ul>
<li>User selects JSON file through file chooser</li>
<li><code>FileManager.importRecipes(String filePath, int userId)</code> processes the file</li>
<li>JSON data parsed and validated</li>
<li>Recipes and ingredients inserted using <code>RecipeManager</code> and <code>IngredientManager</code></li>
</ul>
</li>
</ol>

<p><strong>Data Representation:</strong></p>
<ul>
<li>In Memory: Temporary objects during import/export operations</li>
<li>In Files: Structured JSON format preserving all recipe and ingredient data</li>
<li>Cross-compatibility: JSON format allows data portability</li>
</ul>

<h3>Database Connection and Management</h3>
<h4>Primary Data Structure: Database Abstraction Layer</h4>
<ul>
<li><strong>Classes</strong>: <code>DatabaseConnector.java</code> (connection management)</li>
</ul>

<h4>Connection Management:</h4>
<ol>
<li><strong>Connection Establishment</strong>:<ul>
<li><code>DatabaseConnector.getConnection()</code> creates MySQL connection using JDBC</li>
<li>Automatic table creation on first run</li>
<li>Connection parameters configured for local MySQL instance</li>
</ul>
</li>
<li><strong>Transaction Management</strong>:<ul>
<li>PreparedStatements used throughout for SQL injection prevention</li>
<li>Transaction support for multi-table operations (e.g., recipe deletion with ingredients)</li>
<li>Proper resource cleanup via try-with-resources patterns</li>
</ul>
</li>
</ol>

<p><strong>Data Integrity Features:</strong></p>
<ul>
<li>Foreign key constraints maintain referential integrity</li>
<li>Cascade deletions ensure data consistency</li>
<li>Transaction rollback capabilities for complex operations</li>
<li>Input validation at multiple layers (UI, business logic, database)</li>
</ul>

<p><strong>Data Flow Summary:</strong></p>
<ol>
<li><strong>Input Collection</strong> â†’ <strong>Data Validation</strong> â†’ <strong>Business Logic Processing</strong> â†’ <strong>Database Operation</strong> â†’ <strong>Result Processing</strong> â†’ <strong>UI Update</strong></li>
<li><strong>Error Handling</strong>: Database exceptions caught and user-friendly messages displayed</li>
<li><strong>Performance</strong>: Efficient queries and proper indexing on primary and foreign keys</li>
<li><strong>Scalability</strong>: Modular architecture allows for future enhancements and database system changes</li>
</ol>
        </main>

        <footer>
            <p>&copy; 2025 Daniel French</p>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
        document.addEventListener('DOMContentLoaded', () => {
            const mermaidElements = document.querySelectorAll('.mermaid');

            mermaidElements.forEach((element, i) => {
                const container = element.closest('.mermaid-container');
                let panzoomInstance = null;

                const toggleSwitch = document.createElement('div');
                toggleSwitch.className = 'zoom-toggle';
                toggleSwitch.innerHTML = `
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round"></span>
                    </label>
                    <span>Enable Zoom & Pan</span>
                `;

                const resetButton = document.createElement('button');
                resetButton.innerHTML = 'Reset';
                resetButton.className = 'btn btn-reset';

                const controls = document.createElement('div');
                controls.className = 'mermaid-controls';
                controls.appendChild(toggleSwitch);
                controls.appendChild(resetButton);

                container.insertBefore(controls, element);

                const checkbox = toggleSwitch.querySelector('input');

                const initializePanzoom = () => {
                    if (panzoomInstance) panzoomInstance.destroy();
                    panzoomInstance = Panzoom(element, {
                        maxScale: 10,
                        minScale: 0.5,
                        contain: 'outside'
                    });
                    element.parentElement.addEventListener('wheel', panzoomInstance.zoomWithWheel);
                    element.style.cursor = 'grab';
                };

                const destroyPanzoom = () => {
                    if (panzoomInstance) {
                        panzoomInstance.destroy();
                        panzoomInstance = null;
                    }
                    element.parentElement.removeEventListener('wheel', () => {});
                    element.style.cursor = 'auto';
                };

                checkbox.addEventListener('change', () => {
                    if (checkbox.checked) {
                        initializePanzoom();
                        resetButton.disabled = false;
                    } else {
                        destroyPanzoom();
                        resetButton.disabled = true;
                    }
                });

                resetButton.addEventListener('click', () => {
                    if (panzoomInstance) {
                        panzoomInstance.reset();
                    }
                });

                element.addEventListener('dblclick', () => {
                    if (panzoomInstance) {
                        panzoomInstance.reset();
                    }
                });

                // Initial state
                if (checkbox.checked) {
                    initializePanzoom();
                } else {
                    resetButton.disabled = true;
                }
            });
        });
    </script>
</body>
</html>
